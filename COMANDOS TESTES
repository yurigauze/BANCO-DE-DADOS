// TABELAS VIRTUAIS 

CREATE TABLE IMOVEL(
MATRICULA INT NOT NULL AUTO_INCREMENT
,DESCRICAO VARCHAR(200) NOT NULL
,ENDERECO VARCHAR(100) NOT NULL
,NUMERO VARCHAR(5)
,LOTE VARCHAR(10)
,QUADRA VARCHAR(10)
,INSCRICAO IMOBILIARIA VARCHAR(20)
,BAIRRO_ID INT NOT NULL
,DESCRICAO_COMPLETA VARCHAR(320) AS (CONCAT(MATRICULA, ' - ', SELECT(BAIRRO.NOME WHERE IMOVEL.BAIRRO_ID = BAIRRO.ID), ', ', LOTE, ', ', QUADRA, ', ', DESCRICAO))
,ENDERECO_COMPLETO VARCAHAR(300) AS (CONCAT ENDERECO, ', 'SELECT(BAIRRO.NOME WHERE IMOVEL.BAIRRO_ID = BAIRRO.ID), ', ', SELECT(CIDADE.NOME WHERE IMOVEL.BAIRRO_ID = BAIRRO.ID, BAIRRO.CIDADE_ID = CIDADE.ID), ', ', SELECT(ESTADO.NOME WHERE IMOVEL.BAIRRO_ID = BAIRRO.ID, BAIRRO.CIDADE_ID = CIDADE.ID, CIDADE.ESTADO_ID = ESTADO.ID)
,CONSTRAINT PK_MATRICILA PRIMARY KEY (ID)
,CONSTRAINT MATRICULA_BAIRRO_FK FOREIGN KEY (BAIRRO_ID) REFERENCES BAIRRO (ID)
);

